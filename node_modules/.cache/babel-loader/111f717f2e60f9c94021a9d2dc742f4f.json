{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit'; // Initial store \n\nexport const initialState = {\n  loading: false,\n  hasErrors: false,\n  questions: {}\n}; // Questions slice\n\nconst questionsSlice = createSlice({\n  name: 'questions',\n  initialState,\n  reducers: {\n    addQuestion: (state, action) => {\n      state.questions.unshift(action.payload); //TO-DO\n    },\n    startLoading: state => {\n      state.loading = true;\n    },\n    getQuestionsSuccess: (state, action) => {\n      state.users = action.payload;\n      state.loading = false;\n      state.hasErrors = false;\n    },\n    getQuestionsFailure: state => {\n      state.loading = false; //handling Errors\n\n      state.hasErrors = true;\n    }\n  }\n}); // Actions generated from the slice\n\nconst {\n  addQuestion,\n  startLoading,\n  getQuestionsFailure,\n  getQuestionsSuccess\n} = questionsSlice.actions; // export user selector to get the slice in any component\n\nexport const questionsSelector = state => state.questions; // export The reducer\n\nconst questionsReducer = questionsSlice.reducer;\nexport default questionsReducer; // Thunk Actions\n\nexport const fetchQuestions = () => async dispatch => {\n  try {\n    dispatch(startLoading());\n    const response = await fetch('https://jsonplaceholder.typicode.com/users');\n    const data = await response.json();\n    dispatch(getQuestionsSuccess(data));\n  } catch (error) {\n    dispatch(getQuestionsFailure());\n  }\n};\nexport const fetchOneQuestion = questionID => async dispatch => {\n  try {\n    dispatch(startLoading());\n    const response = await fetch(`https://jsonplaceholder.typicode.com/${questionID}`);\n    const data = await response.json();\n    dispatch(getQuestionsSuccess(data));\n  } catch (error) {\n    dispatch(getQuestionsFailure());\n  }\n};\nexport const createQuestions = question => async dispatch => {\n  try {\n    dispatch(addQuestion(question));\n  } catch (error) {\n    dispatch(getQuestionsFailure());\n  }\n};","map":{"version":3,"sources":["/home/timiking/Apps/rather/src/redux/slices/questions.js"],"names":["createSlice","initialState","loading","hasErrors","questions","questionsSlice","name","reducers","addQuestion","state","action","unshift","payload","startLoading","getQuestionsSuccess","users","getQuestionsFailure","actions","questionsSelector","questionsReducer","reducer","fetchQuestions","dispatch","response","fetch","data","json","error","fetchOneQuestion","questionID","createQuestions","question"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,kBAA1B,C,CAEA;;AACA,OAAO,MAAMC,YAAY,GAAG;AACxBC,EAAAA,OAAO,EAAE,KADe;AAExBC,EAAAA,SAAS,EAAE,KAFa;AAGxBC,EAAAA,SAAS,EAAE;AAHa,CAArB,C,CAMP;;AACA,MAAMC,cAAc,GAAGL,WAAW,CAAC;AAC/BM,EAAAA,IAAI,EAAE,WADyB;AAE/BL,EAAAA,YAF+B;AAG/BM,EAAAA,QAAQ,EAAE;AACNC,IAAAA,WAAW,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5BD,MAAAA,KAAK,CAACL,SAAN,CAAgBO,OAAhB,CAAwBD,MAAM,CAACE,OAA/B,EAD4B,CACa;AAC5C,KAHK;AAINC,IAAAA,YAAY,EAAGJ,KAAD,IAAW;AACrBA,MAAAA,KAAK,CAACP,OAAN,GAAgB,IAAhB;AACH,KANK;AAONY,IAAAA,mBAAmB,EAAE,CAACL,KAAD,EAAQC,MAAR,KAAmB;AACpCD,MAAAA,KAAK,CAACM,KAAN,GAAcL,MAAM,CAACE,OAArB;AACAH,MAAAA,KAAK,CAACP,OAAN,GAAgB,KAAhB;AACAO,MAAAA,KAAK,CAACN,SAAN,GAAkB,KAAlB;AACH,KAXK;AAYNa,IAAAA,mBAAmB,EAAGP,KAAD,IAAW;AAC5BA,MAAAA,KAAK,CAACP,OAAN,GAAgB,KAAhB,CAD4B,CAE5B;;AACAO,MAAAA,KAAK,CAACN,SAAN,GAAkB,IAAlB;AACH;AAhBK;AAHqB,CAAD,CAAlC,C,CAuBA;;AACA,MAAM;AACFK,EAAAA,WADE;AAEFK,EAAAA,YAFE;AAGFG,EAAAA,mBAHE;AAIFF,EAAAA;AAJE,IAKFT,cAAc,CAACY,OALnB,C,CAOA;;AACA,OAAO,MAAMC,iBAAiB,GAAIT,KAAD,IAAWA,KAAK,CAACL,SAA3C,C,CAEP;;AACA,MAAMe,gBAAgB,GAAGd,cAAc,CAACe,OAAxC;AACA,eAAeD,gBAAf,C,CAEA;;AACA,OAAO,MAAME,cAAc,GAAG,MAAK,MAAOC,QAAP,IAAoB;AACnD,MAAI;AACAA,IAAAA,QAAQ,CAACT,YAAY,EAAb,CAAR;AAEA,UAAMU,QAAQ,GAAG,MAAMC,KAAK,CACxB,4CADwB,CAA5B;AAGA,UAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AAEAJ,IAAAA,QAAQ,CAACR,mBAAmB,CAACW,IAAD,CAApB,CAAR;AAEH,GAVD,CAUE,OAAOE,KAAP,EAAc;AACZL,IAAAA,QAAQ,CAACN,mBAAmB,EAApB,CAAR;AACH;AACJ,CAdM;AAgBP,OAAO,MAAMY,gBAAgB,GAAIC,UAAD,IAAe,MAAOP,QAAP,IAAoB;AAC/D,MAAI;AACAA,IAAAA,QAAQ,CAACT,YAAY,EAAb,CAAR;AAEA,UAAMU,QAAQ,GAAG,MAAMC,KAAK,CACvB,wCAAuCK,UAAW,EAD3B,CAA5B;AAGA,UAAMJ,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AAEAJ,IAAAA,QAAQ,CAACR,mBAAmB,CAACW,IAAD,CAApB,CAAR;AAEH,GAVD,CAUE,OAAOE,KAAP,EAAc;AACZL,IAAAA,QAAQ,CAACN,mBAAmB,EAApB,CAAR;AACH;AACJ,CAdM;AAgBP,OAAO,MAAMc,eAAe,GAAIC,QAAD,IAAc,MAAQT,QAAR,IAAqB;AAE9D,MAAI;AACAA,IAAAA,QAAQ,CAACd,WAAW,CAACuB,QAAD,CAAZ,CAAR;AACH,GAFD,CAEE,OAAOJ,KAAP,EAAc;AACZL,IAAAA,QAAQ,CAACN,mBAAmB,EAApB,CAAR;AACH;AACJ,CAPM","sourcesContent":["import {createSlice} from '@reduxjs/toolkit';\n\n// Initial store \nexport const initialState = {\n    loading: false,\n    hasErrors: false,\n    questions: {},\n};\n\n// Questions slice\nconst questionsSlice = createSlice({\n    name: 'questions',\n    initialState,\n    reducers: {\n        addQuestion: (state, action) => {\n            state.questions.unshift(action.payload); //TO-DO\n        },\n        startLoading: (state) => {\n            state.loading = true;\n        },\n        getQuestionsSuccess: (state, action) => {\n            state.users = action.payload;\n            state.loading = false;\n            state.hasErrors = false;\n        },\n        getQuestionsFailure: (state) => {\n            state.loading = false;\n            //handling Errors\n            state.hasErrors = true;\n        },\n    },\n});\n\n// Actions generated from the slice\nconst {\n    addQuestion,\n    startLoading,\n    getQuestionsFailure,\n    getQuestionsSuccess,\n} = questionsSlice.actions;\n\n// export user selector to get the slice in any component\nexport const questionsSelector = (state) => state.questions;\n\n// export The reducer\nconst questionsReducer = questionsSlice.reducer;\nexport default questionsReducer;\n\n// Thunk Actions\nexport const fetchQuestions = ()=> async (dispatch) => {\n    try {\n        dispatch(startLoading());\n\n        const response = await fetch(\n            'https://jsonplaceholder.typicode.com/users',\n        );\n        const data = await response.json();\n\n        dispatch(getQuestionsSuccess(data));\n\n    } catch (error) {\n        dispatch(getQuestionsFailure());\n    }\n};\n\nexport const fetchOneQuestion = (questionID)=> async (dispatch) => {\n    try {\n        dispatch(startLoading());\n\n        const response = await fetch(\n            `https://jsonplaceholder.typicode.com/${questionID}`,\n        );\n        const data = await response.json();\n\n        dispatch(getQuestionsSuccess(data));\n\n    } catch (error) {\n        dispatch(getQuestionsFailure());\n    }\n};\n\nexport const createQuestions = (question) => async ( dispatch) => {\n\n    try {\n        dispatch(addQuestion(question));\n    } catch (error) {\n        dispatch(getQuestionsFailure());\n    }\n};"]},"metadata":{},"sourceType":"module"}